@import "tailwindcss";

@layer base {
  /* Fix voor mobiele browsers met adresbalk/navigatiebalk */
  :root {
    --app-height: 100vh;
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    /* Light mode colors - verbeterd contrast */
    --bg-primary: theme('colors.stone.100');
    --bg-secondary: theme('colors.stone.50');
    --bg-card: theme('colors.white');
    --text-primary: theme('colors.stone.950');
    --text-secondary: theme('colors.stone.700');
    --text-muted: theme('colors.stone.500');
    --border-color: theme('colors.stone.300');
    --accent: theme('colors.amber.600');
    --accent-hover: theme('colors.amber.700');
  }

  /* Dark mode colors */
  .dark {
    --bg-primary: theme('colors.stone.900');
    --bg-secondary: theme('colors.stone.800');
    --bg-card: theme('colors.stone.800');
    --text-primary: theme('colors.stone.100');
    --text-secondary: theme('colors.stone.300');
    --text-muted: theme('colors.stone.500');
    --border-color: theme('colors.stone.700');
    --accent: theme('colors.amber.500');
    --accent-hover: theme('colors.amber.400');
  }

  html {
    font-family: system-ui, -apple-system, sans-serif;
    /* Voorkom scroll bounce op iOS */
    overscroll-behavior: none;
  }

  html, body, #root {
    height: 100%;
    height: 100dvh; /* Dynamic viewport height - past aan voor browser UI */
    margin: 0;
    padding: 0;
    overflow: hidden;
  }

  body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    /* Safe area voor notch en home indicator */
    padding-bottom: var(--safe-bottom);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Fallback voor browsers zonder dvh support */
  @supports not (height: 100dvh) {
    html, body, #root {
      height: -webkit-fill-available;
    }
  }
}

@layer components {
  .btn-primary {
    @apply bg-amber-600 hover:bg-amber-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 active:scale-95 hover:shadow-lg;
  }

  .btn-secondary {
    @apply bg-stone-200 hover:bg-stone-300 text-stone-800 font-medium py-3 px-6 rounded-lg transition-all duration-200 active:scale-95;
  }

  .dark .btn-secondary {
    @apply bg-stone-700 hover:bg-stone-600 text-stone-200;
  }

  .btn-success {
    @apply bg-amber-600 hover:bg-amber-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 active:scale-95 hover:shadow-lg;
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 active:scale-95;
  }

  .card {
    background-color: var(--bg-card);
    border: 1px solid var(--border-color);
    @apply rounded-xl shadow-md p-4 transition-all duration-200;
  }

  .card-hover {
    background-color: var(--bg-card);
    border: 1px solid var(--border-color);
    @apply rounded-xl shadow-md p-4 transition-all duration-200 hover:shadow-xl hover:-translate-y-0.5 cursor-pointer;
  }

  /* Desktop container */
  .app-container {
    @apply h-full w-full mx-auto;
    max-width: 100%;
  }

  @media (min-width: 768px) {
    .app-container {
      max-width: 480px;
    }
  }

  @media (min-width: 1024px) {
    .app-container {
      max-width: 960px;
    }
  }

  /* Desktop layout met sidebar */
  .desktop-layout {
    @apply h-full flex;
  }

  .desktop-sidebar {
    @apply hidden lg:flex lg:flex-col lg:w-64 border-r shrink-0;
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
  }

  .desktop-main {
    @apply flex-1 flex flex-col overflow-hidden;
  }

  /* Leaflet map styling */
  .leaflet-container {
    font-family: inherit;
  }

  .amber-marker,
  .marker-amber {
    filter: hue-rotate(-30deg) saturate(1.5);
  }

  .marker-green {
    filter: hue-rotate(80deg) saturate(1.2);
  }

  .marker-orange {
    filter: hue-rotate(-50deg) saturate(1.5) brightness(1.1);
  }

  .marker-blue {
    filter: hue-rotate(160deg) saturate(1.3);
  }

  /* Lucide marker styling - verwijder default Leaflet styling */
  .lucide-marker {
    background: transparent !important;
    border: none !important;
  }
}
